<div class="container">
  <p id="notice"><%= notice %></p>
  <div class="row">
    <div class="col-md-4 col-xs-12">
      <p>
    <strong>Name:</strong>
    <%= @employee.name %>
      </p>

      <p>
        <strong>City:</strong>
        <%= @employee.city %>
      </p>

      <p>
        <strong>State:</strong>
        <%= @employee.state %>
      </p>

      <p>
        <strong>Country:</strong>
        <%= @employee.country %>
      </p>

      <p>
        <strong>Email:</strong>
        <%= @employee.email %>
      </p>

      <p>
        <strong>Contact:</strong>
        <%= @employee.contact %>
      </p>

      <p>
        <strong>Address:</strong>
        <%= @employee.address %>
      </p>

      <p>
        <strong>Date of birth:</strong>
        <%= @employee.date_of_birth %>
      </p>

      <p>
        <strong>Age:</strong>
        <%= @employee.age %>
      </p>

      <p>
        <strong>Date of joining:</strong>
        <%= @employee.date_of_joining %>
      </p>

      <p>
        <strong>Qualification:</strong>
        <%= @employee.qualification %>
      </p>

      <p>
        <strong>Department:</strong>
        <%= @employee.department.try(:name) %>
      </p>

      <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
        My Tasks
      </button>


      <%= link_to 'Edit', edit_employee_path(@employee) %> |
      <%= link_to 'Back', employees_path %>
    </div>
    <div class="col-md-8 col-xs-12">
      <div id="map" style="width:100%;height:400px;"></div>
    </div>
  </div>
</div>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <%= render :partial => "employees/employee_tasks", locals: { employee: @employee } %>
</div>


<script>
  function initMap() {
    var myLatLng = {
      lat: <%= @employee.latitude %>,
      lng: <%= @employee.longitude %>
    };
    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 6,
      center: myLatLng
    });
    var marker = new google.maps.Marker({
      position: myLatLng,
      map: map
    });
  }
</script>
<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDSn87BAlXf3_IKKAXZzb8h2sRLLwMPQhA&callback=initMap">
</script>
